paths:
  /config:
    get:
      produces:
        - application/json
      summary: Show the current configuration
      description: '**Required ACL:** `webhookd.config.read`'
      operationId: getConfig
      tags:
        - config
      responses:
        '200':
          'description': The configuration of the service

  /config:
    patch:
      produces:
        - application/json
      summary: Update the current configuration. Changes are not persistent across service restart.
      description: '**Required ACL:** `webhookd.config.update`'
      operationId: patchConfig
      tags:
        - config
      parameters:
        - $ref: "#/parameters/JSONPatch"
      responses:
        '204':
          description: The config was updated
        '400':
          description: The given confiuration is invalid
parameters:
  ConfigPatch:
    description: See https://en.wikipedia.org/wiki/JSON_Patch.
    type: array
    items:
      type: object
      properties:
        op:
          type: string
          description: "Patch operation. Supported operations: `replace`."
        path:
          type: string
          description: "JSON path to operate on. Supported paths: `/debug`."
        value:
          type: object
          description: "The new value for the operation. Type of value is dependent of `path`"
